return function(lyrics, idx, f)
    local lyricList,phonemeList = {},{}
    local def = idx == 2 and "u:" or "a"
    local dict = { -- Japanese,English,Korean,Spanish,Chinese,Maika,SeeU
        a={"a","a","a","a","a","a","a"},
        o={"o","O:","o","o","o","o","o"},
        e={"o","V","7","o","7","@","7"},
        u={"M","u:","u","u","u","u","u"},
        v={"j M","j u:","ui","j u","y","j u","ui"},
        yi={"i","i:","i","i","i","i","i"},
        er={"a 4","@r","a rp","a l","@`","@ r\\","@r"},
        ai={"a j","aI","a i","a I","aI","a I","a i"},
        ei={"e j","eI","e i","e I","ei","e I","e i"},
        ao={"a w","aU","a M","a U","AU","Q U","a M"},
        ou={"o w","@U","7 M","o U","@U","@ U","7 M"},
        an={"a n","{ n","a np","a n","a_n","a n","a np"},
        en={"e n","@ n","e np","e n","@_n","@ n","e np"},
        ya={"j a","j {","ja","j a","ia","j a","ja"},
        ye={"j e","j e","je","j e","iE_r","j E","je"},
        yin={"i n","i: n","i np","i n","i_n","i n","i np"},
        yong={"j M N","j U N","ju Np","j o U n","iUN","j o U N","ju Np"},
        wa={"w a","w {","oa","w a","ua","w a","oa"},
        wo={"w o","w O:","u7","w o","uo","w o","u7"},
        wen={"w e n","w @ n","ue np","w e n","u@_n","w @ n","ue np"},
        yue={"j M e","j u: e","ju e","j u e","yE_r","j u E","ju e"},
        yuan={"j M e n","j u: { n","ju e np","j u e n","y{_n","j u E n","ju e np"},
        yun={"j M n","j u: n","ju np","j u n","y_n","j u n","ju np"},
        ang={"a N","Q N","7 Np","a n","AN","Q N","7 Np"},
        yao={"j a w","j aU","ja M","j a U","iAU","j Q U","ja M"},
        you={"j o w","j @U","j7 M","j o U","i@U","j @ U","j7 M"},
        wai={"w a j","w aI","oa i","w a I","uaI","w a I","oa i"},
        wei={"w e j","w eI","ue i","w e I","uei","w e I","ue i"},
        weng={"w e N","w @ N","ue Np","w e n","u@N","w @ N","ue Np"},
        yan={"j e n","j e n","je np","j e n","iE_n","j E n","je np"},
        wan={"w a n","w { n","oa np","w a n","ua_n","w a n","oa np"},
        ying={"i N","i: N","i Np","i n","iN","i N","i Np"},
        wang={"w a N","w Q N","u7 Np","w a n","uAN","w Q N","u7 Np"},
        yang={"j a N","j Q N","j7 Np","j a n","iAN","j Q N","j7 Np"},
        ba={"b a","p a","b a","b a","p a","b a","b a"},
        pa={"p a","ph a","p a","p a","p_h a","p a","p a"},
        ma={"m a","m a","m a","m a","m a","m a","m a"},
        fa={"f a","f a","h a","f a","f a","f a","f a"},
        da={"d a","t a","d a","d a","t a","d a","d a"},
        ta={"t a","th a","t a","t a","t_h a","t a","t a"},
        na={"n a","n a","n a","n a","n a","n a","n a"},
        la={"4 a","l a","l a","l a","l a","l a","l a"},
        ga={"g a","k a","g a","g a","k a","g a","g a"},
        ka={"k a","kh a","k a","h a","k_h a","k a","k a"},
        ha={"h a","h a","h a","x a","x a","x a","h a"},
        zha={"dZ a","dZ a","c a","tS a","ts` a","dZ a","c a"},
        cha={"tS a","tS a","ch a","tS a","ts`_h a","tS a","ch a"},
        sha={"S a","S a","sh a","s a","s` a","S a","sh a"},
        za={"dz a","z a","d s a","d s a","ts a","ts a","z a"},
        ca={"ts a","t s a","t s a","t s a","ts_h a","ts a","t s a"},
        sa={"s a","s a","s a","s a","s a","s a","s a"},
        bo={"b o","p O:","b o","b o","p o","b o","b o"},
        po={"p o","ph O:","p o","p o","p_h o","p o","p o"},
        mo={"m o","m O:","m o","m o","m o","m o","m o"},
        fo={"f o","f O:","h o","f o","f o","f o","f o"},
        lo={"4 o","l O:","l o","l o","l o","l o","l o"},
        me={"m o","m V","m 7","m o","m 7","m @","m 7"},
        de={"d o","t V","d 7","d o","t 7","d @","d 7"},
        te={"t o","th V","t 7","t o","t_h 7","t @","t 7"},
        ne={"n o","n V","n 7","n o","n 7","n @","n 7"},
        le={"4 o","l V","l 7","l o","l 7","l @","l 7"},
        ge={"g o","k V","g 7","g o","k 7","g @","g 7"},
        ke={"k o","kh V","k 7","h o","k_h 7","k @","k 7"},
        he={"h o","h V","h 7","x o","x 7","x @","h 7"},
        zhe={"dZ o","dZ V","c 7","tS o","ts` 7","dZ @","c 7"},
        che={"tS o","tS V","ch 7","tS o","ts`_h 7","tS @","ch 7"},
        she={"S o","S V","sh 7","s o","s` 7","S @","sh 7"},
        re={"Z o","Z V","r 7","r o","z` 7","z` @","r 7"},
        ze={"dz o","z V","d s 7","d s o","ts 7","ts @","z 7"},
        ce={"ts o","t s V","t s 7","t s o","ts_h 7","ts @","t s 7"},
        se={"s o","s V","s 7","s o","s 7","s @","s 7"},
        zhi={"dZ M","dZ u:","c M","tS u","ts` i`","dZ u","c M"},
        chi={"tS M","tS u:","ch M","tS u","ts`_h i`","tS u","ch M"},
        shi={"S M","S u:","sh M","s u","s` i`","S u","sh M"},
        ri={"Z M","Z u:","r M","r u","z` i`","z` u","r M"},
        zi={"dz M","z I","d s M","d s u","ts i\\","ts I0","z M"},
        ci={"ts M","t s I","t s M","t s u","ts_h i\\","ts I0","t s M"},
        si={"s M","s I","s M","s u","s i\\","s I0","s M"},
        bu={"b M","p u:","b u","b u","p u","b u","b u"},
        pu={"p M","ph u:","p u","p u","p_h u","p u","p u"},
        mu={"m M","m u:","m u","m u","m u","m u","m u"},
        fu={"f M","f u:","h u","f u","f u","f u","f u"},
        du={"d M","t u:","d u","d u","t u","d u","d u"},
        tu={"t M","th u:","t u","t u","t_h u","t u","t u"},
        nu={"n M","n u:","n u","n u","n u","n u","n u"},
        lu={"4 M","l u:","l u","l u","l u","l u","l u"},
        gu={"g M","k u:","g u","g u","k u","g u","g u"},
        ku={"k M","kh u:","k u","h u","k_h u","k u","k u"},
        hu={"h M","h u:","h u","x u","x u","x u","h u"},
        zhu={"dZ M","dZ u:","c u","tS u","ts` u","dZ u","c u"},
        chu={"tS M","tS u:","ch u","tS u","ts`_h u","tS u","ch u"},
        shu={"S M","S u:","sh u","s u","s` u","S u","sh u"},
        ru={"Z M","Z u:","r u","r u","z` u","z` u","r u"},
        zu={"dz M","z u:","d s u","d s u","ts u","ts u","z u"},
        cu={"ts M","t s u:","t s u","t s u","ts_h u","ts u","t s u"},
        su={"s M","s u:","s u","s u","s u","s u","s u"},
        bei={"b e j","p eI","b e i","b e I","p ei","b e I","b e i"},
        pei={"p e j","ph eI","p e i","p e I","p_h ei","p e I","p e i"},
        mei={"m e j","m eI","m e i","m e I","m ei","m e I","m e i"},
        fei={"f e j","f eI","h e i","f e I","f ei","f e I","f e i"},
        dei={"d e j","t eI","d e i","d e I","d ei","d e I","d e i"},
        nei={"n e j","n eI","n e i","n e I","n ei","n e I","n e i"},
        lei={"4 e j","l eI","l e i","l e I","l ei","l e I","l e i"},
        gei={"g e j","k eI","g e i","g e I","k ei","g e I","g e i"},
        kei={"k e j","kh eI","k e i","h e I","k_h ei","k e I","k e i"},
        hei={"h e j","h eI","h e i","x e I","x ei","x e I","h e i"},
        zhei={"dZ e j","dZ eI","c e i","tS e I","ts` ei","dZ e I","c e i"},
        shei={"S e j","S eI","sh e i","s e I","s` ei","S e I","sh e i"},
        zei={"dz e j","z eI","d s e i","d s e I","ts ei","ts e I","z e i"},
        bao={"b a w","p aU","b a M","b a U","p AU","b Q U","b a M"},
        pao={"p a w","ph aU","p a M","p a U","p_h AU","p Q U","p a M"},
        mao={"m a w","m aU","m a M","m a U","m AU","m Q U","m a M"},
        dao={"d a w","t aU","d a M","d a U","t AU","d Q U","d a M"},
        tao={"t a w","th aU","t a M","t a U","t_h AU","t Q U","t a M"},
        nao={"n a w","n aU","n a M","n a U","n AU","n Q U","n a M"},
        lao={"4 a w","l aU","l a M","l a U","l AU","l Q U","l a M"},
        gao={"g a w","k aU","g a M","g a U","k AU","g Q U","g a M"},
        kao={"k a w","kh aU","k a M","h a U","k_h AU","k Q U","k a M"},
        hao={"h a w","h aU","h a M","x a U","x AU","x Q U","h a M"},
        zhao={"dZ a w","dZ aU","c a M","tS a U","ts` AU","dZ Q U","c a M"},
        chao={"tS a w","tS aU","ch a M","tS a U","ts`_h AU","tS Q U","ch a M"},
        shao={"S a w","S aU","sh a M","s a U","s` AU","S Q U","sh a M"},
        rao={"Z a w","Z aU","r a M","r a U","z` AU","Z Q U","r a M"},
        zao={"dz a w","z aU","d s a M","d s a U","ts AU","ts Q U","z a M"},
        cao={"ts a w","t s aU","t s a M","t s a U","ts_h AU","ts Q U","t s a M"},
        sao={"s a w","s aU","s a M","s a U","s AU","s Q U","s a M"},
        pou={"p o w","ph @U","p 7 M","p o U","p_h @U","p @ U","p 7 M"},
        mou={"m o w","m @U","m 7 M","m o U","m @U","m @ U","m 7 M"},
        fou={"f o w","f @U","h 7 M","f o U","f @U","f @ U","f 7 M"},
        dou={"d o w","t @U","d 7 M","d o U","t @U","d @ U","d 7 M"},
        tou={"t o w","th @U","t 7 M","t o U","t_h @U","t @ U","t 7 M"},
        nou={"n o w","n @U","n 7 M","n o U","n @U","n @ U","n 7 M"},
        lou={"4 o w","l @U","l 7 M","l o U","l @U","l @ U","l 7 M"},
        gou={"g o w","k @U","g 7 M","g o U","k @U","g @ U","g 7 M"},
        kou={"k o w","kh @U","k 7 M","h o U","k_h @U","k @ U","k 7 M"},
        hou={"h o w","h @U","h 7 M","x o U","x @U","x @ U","h 7 M"},
        zhou={"dZ o w","dZ @U","c 7 M","tS o U","ts` @U","dZ @ U","c 7 M"},
        chou={"tS o w","tS @U","ch 7 M","tS o U","ts`_h @U","tS @ U","ch 7 M"},
        shou={"S o w","S @U","sh 7 M","s o U","s` @U","S @ U","sh 7 M"},
        rou={"Z o w","Z @U","r 7 M","r o U","z` @U","z` @ U","r 7 M"},
        zou={"dz o w","z @U","d s 7 M","d s o U","ts @U","ts @ U","z 7 M"},
        cou={"ts o w","t s @U","t s 7 M","t s o U","ts_h @U","ts @ U","t s 7 M"},
        sou={"s o w","s @U","s 7 M","s o U","s @U","s @ U","s 7 M"},
        ban={"b a n","p { n","b a np","b a n","p a_n","b a n","b a np"},
        pan={"p a n","ph { n","p a np","p a n","p_h a_n","p a n","p a np"},
        man={"m a n","m { n","m a np","m a n","m a_n","m a n","m a np"},
        fan={"f a n","f { n","h a np","f a n","f a_n","f a n","f a np"},
        dan={"d a n","t { n","d a np","d a n","t a_n","d a n","d a np"},
        tan={"t a n","th { n","t a np","t a n","t_h a_n","t a n","t a np"},
        nan={"n a n","n { n","n a np","n a n","n a_n","n a n","n a np"},
        lan={"4 a n","l { n","l a np","l a n","l a_n","l a n","l a np"},
        gan={"g a n","k { n","g a np","g a n","k a_n","g a n","g a np"},
        kan={"k a n","kh { n","k a np","h a n","k_h a_n","k a n","k a np"},
        han={"h a n","h { n","h a np","x a n","x a_n","x a n","h a np"},
        zhan={"dZ a n","dZ { n","c a np","tS a n","ts` a_n","dZ a n","c a np"},
        chan={"tS a n","tS { n","ch a np","tS a n","ts`_h a_n","tS a n","ch a np"},
        shan={"S a n","S { n","sh a np","s a n","s` a_n","S a n","sh a np"},
        ran={"Z a n","Z { n","r a np","r a n","z` a_n","z` a n","r a np"},
        zan={"dz a n","z { n","d s a np","d s a n","ts a_n","ts a n","z a np"},
        can={"ts a n","t s { n","t s a np","t s a n","ts_h a_n","ts a n","t s a np"},
        san={"s a n","s { n","s a np","s a n","s a_n","s a n","s a np"},
        ben={"b e n","p @ n","b e np","b e n","p @_n","b @ n","b e np"},
        pen={"p e n","ph @ n","p e np","p e n","p_h @_n","p @ n","p e np"},
        men={"m e n","m @ n","m e np","m e n","m @_n","m @ n","m e np"},
        fen={"f e n","f @ n","h e np","f e n","f @_n","f @ n","f e np"},
        den={"d e n","t @ n","d e np","t e n","t @_n","t @ n","d e np"},
        nen={"n e n","n @ n","n e np","n e n","n @_n","n @ n","n e np"},
        gen={"g e n","k @ n","g e np","g e n","k @_n","g @ n","g e np"},
        ken={"k e n","kh @ n","k e np","h e n","k_h @_n","k @ n","k e np"},
        hen={"h e n","h @ n","h e np","x e n","x @_n","x @ n","h e np"},
        zhen={"dZ e n","dZ @ n","c e np","tS e n","ts` @_n","dZ @ n","c e np"},
        chen={"tS e n","tS @ n","ch e np","tS e n","ts`_h @_n","tS @ n","ch e np"},
        shen={"S e n","S @ n","sh e np","s e n","s` @_n","S @ n","sh e np"},
        ren={"Z e n","Z @ n","r e np","r e n","z` @_n","z` @ n","r e np"},
        zen={"dz e n","z @ n","d s e np","d s e n","ts @_n","ts @ n","z e np"},
        cen={"ts e n","t s @ n","t s e np","t s e n","ts_h @_n","ts @ n","t s e np"},
        sen={"s e n","s @ n","s e np","s e n","s @_n","s @ n","s e np"},
        dong={"d M N","t U N","d M Np","d o U n","t UN","d U N","d M Np"},
        tong={"t M N","th U N","t M Np","t o U n","t_h UN","t U N","t M Np"},
        nong={"n M N","n U N","n M Np","n o U n","n UN","n U N","n M Np"},
        long={"4 M N","l U N","l M Np","l o U n","l UN","l U N","l M Np"},
        gong={"g M N","k U N","g M Np","g o U n","k UN","g U N","g M Np"},
        kong={"k M N","kh U N","k M Np","h o U n","k_h UN","k U N","k M Np"},
        hong={"h M N","h U N","h M Np","x o U n","x UN","x U N","h M Np"},
        zhong={"dZ M N","dZ U N","c M Np","tS o U n","ts` UN","dZ U N","c M Np"},
        chong={"tS M N","tS U N","ch M Np","tS o U n","ts`_h UN","tS U N","ch M Np"},
        rong={"Z M N","Z U N","r M Np","r o U n","z` UN","z` U N","r M Np"},
        zong={"dz M N","z U N","d s M Np","d s o U n","ts UN","ts U N","z M Np"},
        cong={"ts M N","t s U N","t s M Np","t s o U n","ts_h UN","ts U N","t s M Np"},
        song={"s M N","s U N","s M Np","s o U n","s UN","s U N","s M Np"},
        bi={"b' i","p i:","b i","b i","p i","b i","b i"},
        pi={"p' i","ph i:","p i","p i","p_h i","p i","p i"},
        mi={"m' i","m i:","m i","m i","m i","m i","m i"},
        di={"d' i","t i:","d i","d i","t i","d i","d i"},
        ti={"t' i","th i:","t i","t i","t_h i","t i","t i"},
        ni={"J i","n i:","n i","n i","n i","n i","n i"},
        li={"4' i","l i:","l i","l i","l i","l i","l i"},
        ji={"dZ i","dZ i:","c i","d s i","ts\\ i","dZ i","c i"},
        qi={"tS i","tS i:","ch i","tS i","ts\\_h i","tS i","ch i"},
        xi={"S i","S i:","sh i","s i","s\\ i","S i","sh i"},
        gua={"g w a","k w {","g oa","g w a","k ua","g w a","g oa"},
        kua={"k w a","kh w {","k oa","h w a","k_h ua","k w a","k oa"},
        hua={"h w a","h w {","h oa","x w a","x ua","x w a","h oa"},
        zhua={"dZ w a","dZ w {","c oa","tS w a","ts` ua","dZ w a","c oa"},
        chua={"tS w a","tS w {","ch oa","tS w a","ts`_h ua","tS w a","ch oa"},
        shua={"S w a","S w {","sh oa","s w a","s` ua","S w a","sh oa"},
        dun={"d w e n","t w @ n","d ue np","d w e n","t u@_n","d w @ n","d ue np"},
        tun={"t w e n","th w @ n","t ue np","t w e n","t_h u@_n","t w @ n","t ue np"},
        lun={"4 w e n","l w @ n","l ue np","l w e n","l u@_n","l w @ n","l ue np"},
        gun={"g w e n","k w @ n","g ue np","g w e n","k u@_n","g w @ n","g ue np"},
        kun={"k w e n","kh w @ n","k ue np","h w e n","k_h u@_n","k w @ n","k ue np"},
        hun={"h w e n","h w @ n","h ue np","x w e n","x u@_n","x w @ n","h ue np"},
        zhun={"dZ w e n","dZ w @ n","c ue np","tS w e n","ts` u@_n","dZ w @ n","c ue np"},
        chun={"tS w e n","tS w @ n","ch ue np","tS w e n","ts`_h u@_n","tS w @ n","ch ue np"},
        shun={"S w e n","S w @ n","sh ue np","s w e n","s` u@_n","S w @ n","sh ue np"},
        run={"Z w e n","Z w @ n","r ue np","r w e n","z` u@_n","z` w @ n","r ue np"},
        zun={"dz w e n","z w @ n","d s ue np","d s w e n","ts u@_n","ts w @ n","z ue np"},
        cun={"ts w e n","t s w @ n","t s ue np","t s w e n","ts_h u@_n","ts w @ n","t s ue np"},
        sun={"s w e n","s w @ n","s ue np","s w e n","s u@_n","s w @ n","s ue np"},
        nv={"J M","n j u:","n ui","n j u","n y","n j u","n ui"},
        lv={"4' M","l j u:","l ui","l j u","l y","l j u","l ui"},
        ju={"dZ M","dZ j u:","c ui","d s j u","ts\\ y","dZ j u","c ui"},
        qu={"tS M","tS j u:","ch ui","tS j u","ts\\_h y","tS j u","ch ui"},
        xu={"S M","S j u:","sh ui","s j u","s\\ y","S j u","sh ui"},
        bai={"b a j","p aI","b a i","b a I","p aI","b a I","b a i"},
        pai={"p a j","ph aI","p a i","p a I","p_h aI","p a I","p a i"},
        mai={"m a j","m aI","m a i","m a I","m aI","m a I","m a i"},
        dai={"d a j","t aI","d a i","d a I","t aI","d a I","d a i"},
        tai={"t a j","th aI","t a i","t a I","t_h aI","t a I","t a i"},
        nai={"n a j","n aI","n a i","n a I","n aI","n a I","n a i"},
        lai={"4 a j","l aI","l a i","l a I","l aI","l a I","l a i"},
        gai={"g a j","k aI","g a i","g a I","k aI","g a I","g a i"},
        kai={"k a j","kh aI","k a i","h a I","k_h aI","k a I","k a i"},
        hai={"h a j","h aI","h a i","x a I","x aI","x a I","h a i"},
        zhai={"dZ a j","dZ aI","c a i","tS a I","ts` aI","dZ a I","c a i"},
        chai={"tS a j","tS aI","ch a i","tS a I","ts`_h aI","tS a I","ch a i"},
        shai={"S a j","S aI","sh a i","s a I","s` aI","S a I","sh a i"},
        zai={"dz a j","z aI","d s a i","d s a I","ts aI","ts a I","z a i"},
        cai={"ts a j","t s aI","t s a i","t s a I","ts_h aI","ts a I","t s a i"},
        sai={"s a j","s aI","s a i","s a I","s aI","s a I","s a i"},
        duo={"d w o","t w O:","d u7","d w o","t uo","d w o","d u7"},
        tuo={"t w o","th w O:","t u7","t w o","t_h uo","t w o","t u7"},
        nuo={"n w o","n w O:","n u7","n w o","n uo","n w o","n u7"},
        luo={"4 w o","l w O:","l u7","l w o","l uo","l w o","l u7"},
        guo={"g w o","k w O:","g u7","g w o","k uo","g w o","g u7"},
        kuo={"k w o","kh w O:","k u7","h w o","k_h uo","k w o","k u7"},
        huo={"h w o","h w O:","h u7","x w o","x uo","x w o","h u7"},
        zhuo={"dZ w o","dZ w O:","c u7","tS w o","ts` uo","dZ w o","c u7"},
        chuo={"tS w o","tS w O:","ch u7","tS w o","ts`_h uo","tS w o","ch u7"},
        shuo={"S w o","S w O:","sh u7","s w o","s` uo","S w o","sh u7"},
        ruo={"Z w o","Z w O:","r u7","r w o","z` uo","z` w o","r u7"},
        zuo={"dz w o","z w O:","d s u7","d s w o","ts uo","ts w o","z u7"},
        cuo={"ts w o","t s w O:","t s u7","t s w o","ts_h uo","ts w o","t s u7"},
        suo={"s w o","s w O:","s u7","s w o","s uo","s w o","s u7"},
        biao={"b' a w","p j aU","b ja M","b j a U","p iAU","b j Q U","b ja M"},
        piao={"p' a w","ph j aU","p ja M","p j a U","p_h iAU","p j Q U","p ja M"},
        miao={"m' a w","m j aU","m ja M","m j a U","m iAU","m j Q U","m ja M"},
        diao={"d' a w","t j aU","d ja M","d j a U","t iAU","d j Q U","d ja M"},
        tiao={"t' a w","th j aU","t ja M","t j a U","t_h iAU","t j Q U","t ja M"},
        niao={"J a w","n j aU","n ja M","n j a U","n iAU","n j Q U","n ja M"},
        liao={"4' a w","l j aU","l ja M","l j a U","l iAU","l j Q U","l ja M"},
        jiao={"dZ a w","dZ j aU","c ja M","d s j a U","ts\\ iAU","dZ j Q U","c ja M"},
        qiao={"tS a w","tS j aU","ch ja M","tS j a U","ts\\_h iAU","tS j Q U","ch ja M"},
        xiao={"S a w","S j aU","sh ja M","s j a U","s\\ iAU","S j Q U","sh ja M"},
        miu={"m' o w","m j @U","m j7 M","m j o U","m i@U","m j @ U","m j7 M"},
        diu={"d' o w","t j @U","d j7 M","d j o U","t i@U","d j @ U","d j7 M"},
        niu={"J o w","n j @U","n j7 M","n j o U","n i@U","n j @ U","n j7 M"},
        liu={"4' o w","l j @U","l j7 M","l j o U","l i@U","l j @ U","l j7 M"},
        jiu={"dZ o w","dZ j @U","c j7 M","d s j o U","ts\\ i@U","dZ j @ U","c j7 M"},
        qiu={"tS o w","tS j @U","ch j7 M","tS j o U","ts\\_h i@U","tS j @ U","ch j7 M"},
        xiu={"S o w","S j @U","sh j7 M","s j o U","s\\ i@U","S j @ U","sh j7 M"},
        guai={"g w a j","k w aI","g oa i","g w a I","k uaI","g w a I","g oa i"},
        kuai={"k w a j","kh w aI","k oa i","h w a I","k_h uaI","k w a I","k oa i"},
        huai={"h w a j","h w aI","h oa i","x w a I","x uaI","x w a I","h oa i"},
        zhuai={"dZ w a j","dZ w aI","c oa i","tS w a I","ts` uaI","dZ w a I","c oa i"},
        chuai={"tS w a j","tS w aI","ch oa i","tS w a I","ts`_h uaI","tS w a I","ch oa i"},
        shuai={"S w a j","S w aI","sh oa i","s w a I","s` uaI","S w a I","sh oa i"},
        dui={"d w e j","t w eI","d ue i","t w e I","t uei","t w e I","d ue i"},
        tui={"t w e j","th w eI","t ue i","t w e I","t_h uei","t w e I","t ue i"},
        gui={"g w e j","k w eI","g ue i","g w e I","k uei","g w e I","g ue i"},
        kui={"k w e j","kh w eI","k ue i","h w e I","k_h uei","k w e I","k ue i"},
        hui={"h w e j","h w eI","h ue i","x w e I","x uei","x w e I","h ue i"},
        zhui={"dZ w e j","dZ w eI","c ue i","tS w e I","ts` uei","dZ w e I","c ue i"},
        chui={"tS w e j","tS w eI","ch ue i","tS w e I","ts`_h uei","tS w e I","ch ue i"},
        shui={"S w e j","S w eI","sh ue i","s w e I","s` uei","S w e I","sh ue i"},
        rui={"Z w e j","Z w eI","r ue i","r w e I","z` uei","z` w e I","r ue i"},
        zui={"dz w e j","z w eI","d s ue i","d s w e I","ts uei","ts w e I","z ue i"},
        cui={"ts w e j","t s w eI","t s ue i","t s w e I","ts_h uei","ts w e I","t s ue i"},
        sui={"s w e j","s w eI","s ue i","s w e I","s uei","s w e I","s ue i"},
        bang={"b a N","p Q N","b 7 Np","b a n","p AN","b Q N","b 7 Np"},
        pang={"p a N","ph Q N","p 7 Np","p a n","p_h AN","p Q N","p 7 Np"},
        mang={"m a N","m Q N","m 7 Np","m a n","m AN","m Q N","m 7 Np"},
        fang={"f a N","f Q N","h 7 Np","f a n","f AN","f Q N","f 7 Np"},
        dang={"d a N","t Q N","d 7 Np","d a n","t AN","d Q N","d 7 Np"},
        tang={"t a N","th Q N","t 7 Np","t a n","t_h AN","t Q N","t 7 Np"},
        nang={"n a N","n Q N","n 7 Np","n a n","n AN","n Q N","n 7 Np"},
        lang={"4 a N","l Q N","l 7 Np","l a n","l AN","l Q N","l 7 Np"},
        gang={"g a N","k Q N","g 7 Np","g a n","k AN","g Q N","g 7 Np"},
        kang={"k a N","kh Q N","k 7 Np","h a n","k_h AN","k Q N","k 7 Np"},
        hang={"h a N","h Q N","h 7 Np","x a n","x AN","x Q N","h 7 Np"},
        zhang={"dZ a N","dZ Q N","c 7 Np","tS a n","ts` AN","dZ Q N","c 7 Np"},
        chang={"tS a N","tS Q N","ch 7 Np","tS a n","ts`_h AN","tS Q N","ch 7 Np"},
        shang={"S a N","S Q N","sh 7 Np","s a n","s` AN","S Q N","sh 7 Np"},
        rang={"Z a N","Z Q N","r 7 Np","r a n","z` AN","z` Q N","r 7 Np"},
        zang={"dz a N","z Q N","d s 7 Np","d s a n","ts AN","ts Q N","z 7 Np"},
        cang={"ts a N","t s Q N","t s 7 Np","t s a n","ts_h AN","ts Q N","t s 7 Np"},
        sang={"s a N","s Q N","s 7 Np","s a n","s AN","s Q N","s 7 Np"},
        beng={"b e N","p @ N","b e Np","b e n","p @N","b @ N","b e Np"},
        peng={"p e N","ph @ N","p e Np","p e n","p_h @N","p @ N","p e Np"},
        meng={"m e N","m @ N","m e Np","m e n","m @N","m @ N","m e Np"},
        feng={"f e N","f @ N","h e Np","f e n","f @N","f @ N","f e Np"},
        deng={"d e N","t @ N","d e Np","d e n","t @N","d @ N","d e Np"},
        teng={"t e N","th @ N","t e Np","t e n","t_h @N","t @ N","t e Np"},
        neng={"n e N","n @ N","n e Np","n e n","n @N","n @ N","n e Np"},
        leng={"4 e N","l @ N","l e Np","l e n","l @N","l @ N","l e Np"},
        geng={"g e N","k @ N","g e Np","g e n","k @N","g @ N","g e Np"},
        keng={"k e N","kh @ N","k e Np","h e n","k_h @N","k @ N","k e Np"},
        heng={"h e N","h @ N","h e Np","x e n","x @N","x @ N","h e Np"},
        zheng={"dZ e N","dZ @ N","c e Np","tS e n","ts` @N","dZ @ N","c e Np"},
        cheng={"tS e N","tS @ N","ch e Np","tS e n","ts`_h @N","tS @ N","ch e Np"},
        sheng={"S e N","S @ N","sh e Np","s e n","s` @N","S @ N","sh e Np"},
        reng={"Z e N","Z @ N","r e Np","r e n","z` @N","z` @ N","r e Np"},
        zeng={"dz e N","z @ N","d s e Np","d s e n","ts @N","ts @ N","z e Np"},
        ceng={"ts e N","t s @ N","t s e Np","t s e n","ts_h @N","ts @ N","t s e Np"},
        seng={"s e N","s @ N","s e Np","s e n","s @N","s @ N","s e Np"},
        dia={"d' a","t j {","d ja","t j a","t ia","t j a","d ja"},
        lia={"4' a","l j {","l ja","l j a","l ia","l j a","l ja"},
        jia={"dZ a","dZ j {","c ja","d s j a","ts\\ ia","dZ j a","c ja"},
        qia={"tS a","tS j {","ch ja","tS j a","ts\\_h ia","tS j a","ch ja"},
        xia={"S a","S j {","sh ja","s j a","s\\ ia","S j a","sh ja"},
        bie={"b' e","p j e","b je","b j e","p iE_r","b j E","b je"},
        pie={"p' e","ph j e","p je","p j e","p_h iE_r","p j E","p je"},
        mie={"m' e","m j e","m je","m j e","m iE_r","m j E","m je"},
        die={"d' e","t j e","d je","d j e","t iE_r","d j E","d je"},
        tie={"t' e","th j e","t je","t j e","t_h iE_r","t j E","t je"},
        nie={"J e","n j e","n je","n j e","n iE_r","n j E","n je"},
        lie={"4' e","l j e","l je","l j e","l iE_r","l j E","l je"},
        jie={"dZ e","dZ j e","c je","d s j e","ts\\ iE_r","dZ j E","c je"},
        qie={"tS e","tS j e","ch je","tS j e","ts\\_h iE_r","tS j E","ch je"},
        xie={"S e","S j e","sh je","s j e","s\\ iE_r","S j E","sh je"},
        bin={"b' i n","p i: n","b i np","p i n","p i_n","p i n","b i np"},
        pin={"p' i n","ph i: n","p i np","p i n","p_h i_n","p i n","p i np"},
        min={"m' i n","m i: n","m i np","m i n","m i_n","m i n","m i np"},
        nin={"J i n","n i: n","n i np","n i n","n i_n","n i n","n i np"},
        lin={"4' i n","l i: n","l i np","l i n","l i_n","l i n","l i np"},
        jin={"dZ n","dZ i: n","c i np","d s i n","ts\\ i_n","dZ i n","c i np"},
        qin={"tS n","tS i: n","ch i np","tS i n","ts\\_h i_n","tS i n","ch i np"},
        xin={"S n","S i: n","sh i np","s i n","s\\ i_n","S i n","sh i np"},
        juan={"dZ M e n","dZ j u: { n","c ju e np","d s j u e n","ts\\ y{_n","dZ j u E n","c ju e np"},
        quan={"tS M e n","tS j u: { n","ch ju e np","tS j u e n","ts\\_h y{_n","tS j u E n","ch ju e np"},
        xuan={"S M e n","S j u: { n","sh ju e np","s j u e n","s\\ y{_n","S j u E n","sh ju e np"},
        nve={"J M e","n j u: e","n ju e","n j u e","n yE_r","n j u E","n ju e"},
        lve={"4' M e","l j u: e","l ju e","l j u e","l yE_r","l j u E","l ju e"},
        jue={"dZ M e","dZ j u: e","c ju e","d s j u e","ts\\ yE_r","dZ j u E","c ju e"},
        que={"tS M e","tS j u: e","ch ju e","tS j u e","ts\\_h yE_r","tS j u E","ch ju e"},
        xue={"S M e","S j u: e","sh ju e","s j u e","s\\ yE_r","S j u E","sh ju e"},
        duan={"d w a n","t w { n","d oa np","d w a n","t ua_n","d w a n","d oa np"},
        tuan={"t w a n","th w { n","t oa np","t w a n","t_h ua_n","t w a n","t oa np"},
        nuan={"n w a n","n w { n","n oa np","n w a n","n ua_n","n w a n","n oa np"},
        luan={"4 w a n","l w { n","l oa np","l w a n","l ua_n","l w a n","l oa np"},
        guan={"g w a n","k w { n","g oa np","g w a n","k ua_n","g w a n","g oa np"},
        kuan={"k w a n","kh w { n","k oa np","h w a n","k_h ua_n","k w a n","k oa np"},
        huan={"h w a n","h w { n","h oa np","x w a n","x ua_n","x w a n","h oa np"},
        zhuan={"dZ w a n","dZ w { n","c oa np","tS w a n","ts` ua_n","dZ w a n","c oa np"},
        chuan={"tS w a n","tS w { n","ch oa np","tS w a n","ts`_h ua_n","tS w a n","ch oa np"},
        shuan={"S w a n","S w { n","sh oa np","s w a n","s` ua_n","S w a n","sh oa np"},
        ruan={"Z w a n","Z w { n","r oa np","r w a n","z` ua_n","z` w a n","r oa np"},
        zuan={"dz w a n","z w { n","d s oa np","d s w a n","ts ua_n","ts w a n","z oa np"},
        cuan={"ts w a n","t s w { n","t s oa np","t s w a n","ts_h ua_n","ts w a n","t s oa np"},
        suan={"s w a n","s w { n","s oa np","s w a n","s ua_n","s w a n","s oa np"},
        jun={"dZ M n","dZ j u: n","c ju np","d s j u n","ts\\ y_n","dZ j u n","c ju np"},
        qun={"tS M n","tS j u: n","ch ju np","tS j u n","ts\\_h y_n","tS j u n","ch ju np"},
        xun={"S M n","S j u: n","sh ju np","s j u n","s\\ y_n","S j u n","sh ju np"},
        bing={"b' i N","p i: N","b i Np","b i n","p iN","b i N","b i Np"},
        ping={"p' i N","ph i: N","p i Np","p i n","p_h iN","p i N","p i Np"},
        ming={"m' i N","m i: N","m i Np","m i n","m iN","m i N","m i Np"},
        ding={"d' i N","t i: N","d i Np","d i n","t iN","d i N","d i Np"},
        ting={"t' i N","th i: N","t i Np","t i n","t_h iN","t i N","t i Np"},
        ning={"J i N","n i: N","n i Np","n i n","n iN","n i N","n i Np"},
        ling={"4' i N","l i: N","l i Np","l i n","l iN","l i N","l i Np"},
        jing={"dZ N","dZ i: N","c i Np","d s i n","ts\\ iN","dZ i N","c i Np"},
        qing={"tS N","tS i: N","ch i Np","tS i n","ts\\_h iN","tS i N","ch i Np"},
        xing={"S N","S i: N","sh i Np","s i n","s\\ iN","S i N","sh i Np"},
        jiong={"dZ M N","dZ j U N","c ju Np","d s j o U n","ts\\ iUN","dZ j o U N","c ju Np"},
        qiong={"tS M N","tS j U N","ch ju Np","tS j o U n","ts\\_h iUN","tS j o U N","ch ju Np"},
        xiong={"S M N","S j U N","sh ju Np","s j o U n","s\\ iUN","S j o U N","sh ju Np"},
        guang={"g w a N","k w Q N","g u7 Np","g w a n","k uAN","g w Q N","g u7 Np"},
        kuang={"k w a N","kh w Q N","k u7 Np","h w a n","k_h uAN","k w Q N","k u7 Np"},
        huang={"h w a N","h w Q N","h u7 Np","x w a n","x uAN","x w Q N","h u7 Np"},
        zhuang={"dZ w a N","dZ w Q N","c u7 Np","tS w a n","ts` uAN","dZ w Q N","c u7 Np"},
        chuang={"tS w a N","tS w Q N","ch u7 Np","tS w a n","ts`_h uAN","tS w Q N","ch u7 Np"},
        shuang={"S w a N","S w Q N","sh u7 Np","s w a n","s` uAN","S w Q N","sh u7 Np"},
        bian={"b' e n","p j e n","b je np","b j e n","p iE_n","b j E n","b je np"},
        pian={"p' e n","ph j e n","p je np","p j e n","p_h iE_n","p j E n","p je np"},
        mian={"m' e n","m j e n","m je np","m j e n","m iE_n","m j E n","m je np"},
        dian={"d' e n","t j e n","d je np","d j e n","t iE_n","d j E n","d je np"},
        tian={"t' e n","th j e n","t je np","t j e n","t_h iE_n","t j E n","t je np"},
        nian={"J e n","n j e n","n je np","n j e n","n iE_n","n j E n","n je np"},
        lian={"4' e n","l j e n","l je np","l j e n","l iE_n","l j E n","l je np"},
        jian={"dZ e n","dZ j e n","c je np","d s j e n","ts\\ iE_n","dZ j E n","c je np"},
        qian={"tS e n","tS j e n","ch je np","tS j e n","ts\\_h iE_n","tS j E n","ch je np"},
        xian={"S e n","S j e n","sh je np","s j e n","s\\ iE_n","S j E n","sh je np"},
        niang={"J a N","n j Q N","n j7 Np","n j a n","n iAN","n j Q N","n j7 Np"},
        liang={"4' a N","l j Q N","l j7 Np","l j a n","l iAN","l j Q N","l j7 Np"},
        jiang={"dZ a N","dZ j Q N","c j7 Np","d s j a n","ts\\ iAN","dZ j Q N","c j7 Np"},
        qiang={"tS a N","tS j Q N","ch j7 Np","tS j a n","ts\\_h iAN","tS j Q N","ch j7 Np"},
        xiang={"S a N","S j Q N","sh j7 Np","s j a n","s\\ iAN","S j Q N","sh j7 Np"}
    }
    dict=setmetatable(dict,{__index={
        yu=dict.v,i=dict.yi,ia=dict.ya,ie=dict.ye,["in"]=dict.yin,iong=dict.yong,
        wu=dict.u,ua=dict.wa,uo=dict.wo,uen=dict.wen,un=dict.wen,ve=dict.yue,
        ["u:e"]=dict.yue,van=dict.yuan,["u:an"]=dict.yuan,vn=dict.yun,["u:n"]=dict.yun,["u:"]=dict.v,
        iao=dict.yao,iou=dict.you,iu=dict.you,uai=dict.wai,uei=dict.wei,ui=dict.wei,
        ueng=dict.weng,ian=dict.yan,uan=dict.wan,ing=dict.ying,uang=dict.wang,iang=dict.yang,
        ["nu:"]=dict.nv,["lu:"]=dict.lv,["nu:e"]=dict.nve,["lu:e"]=dict.lve,nue=dict.nve,lue=dict.lve
    }})
    if f == 0 then
        for v in lyrics:gmatch("%S+") do
            if v == "-" or v:find("^[a-z]+:?[a-z]*$") then lyricList[#lyricList+1] = v end
        end
        for i, lyric in ipairs(lyricList) do
            phonemeList[i] = lyric == "-" and "-" or dict[lyric][idx] or def
        end
    else
        local pos = 1
        while pos <= #lyrics do
            local byte = lyrics:byte(pos)
            local len, cur = 1, lyrics:sub(pos, pos)
            if byte >= 0xE4 and byte <= 0xE9 then
                len, cur = 3, lyrics:sub(pos, pos + 2)
            end
            if cur ~= "" and cur ~= " " and (len == 3 or cur == "-") then
                lyricList[#lyricList+1] = cur
            end
            pos = pos + len
        end
        local pinyin = require("pinyin")
        for i, lyric in ipairs(lyricList) do
            phonemeList[i] = lyric == "-" and "-" or pinyin[lyric][idx] or def
        end
    end
    return lyricList, phonemeList
end